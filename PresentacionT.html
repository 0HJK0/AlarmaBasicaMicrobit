<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="Present.css">
</head>

<body>
    <a href="index.html" class="back-link">
        ← Volver a la Pagina Principal
    </a>
    
    <div class="markdown-content">
        <h1>Documentación Técnica</h1>
        <p><em>Fecha: 12 de noviembre de 2025</em></p>
        <p>Este documento contiene la documentación técnica para el proyecto STEAM del curso <strong>Laboratorio
                STEAM+</strong> de la tecnicatura <strong>Redes y Software</strong> del <strong>Brazo Oriental</strong> de <strong>UTU</strong> año 2025.</p>
        
        <h1>Proyecto: Alarma Básica Micro:bit (para bi-rodados)</h1>
        
        <h2>1. Integrantes</h2>
        <ul>
            <li>Diana Espina</li>
            <li>Guillermo Brünner</li>
            <li>Marcos Villarreal</li>
        </ul>
        
        <h2>2. Descripción Funcional del Sistema</h2>
        <ul>
            <li>**Objetivo Principal:** Disuadir el hurto y alertar al propietario ante un intento de robo mediante la detección de movimiento.</li>
            <li>El sistema opera en un esquema de comunicación de radio de corto alcance utilizando dos unidades Micro:bit:
                <ul>
                    <li>**Micro:bit Alarma (Emisor):** Instalado en el vehículo, se encarga de detectar el movimiento brusco (usando el acelerómetro) y activar la alarma sonora y visual (`Image.ANGRY`). Envía la señal de alerta por radio.</li>
                    <li>**Micro:bit Receptor (Aviso/Base):** Conectado a una PC, recibe la señal por radio. Un script de Python en la PC procesa la señal, registra el evento con fecha y hora, y actualiza una interfaz web para el monitoreo.</li>
                </ul>
            </li>
            <li>**Modos de Operación:**
                <table>
                    <thead>
                        <tr>
                            <th>Estado</th>
                            <th>Evento</th>
                            <th>Acción del Micro:bit Alarma (Emisor)</th>
                            <th>Acción del Micro:bit Receptor (Base)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>**Alerta**</td>
                            <td>Detección de movimiento brusco (Umbral del Acelerómetro superado)</td>
                            <td>1. Activa sonido/música de alarma. 2. Muestra imagen de "enojo" (`Image.ANGRY`) en la matriz LED. 3. Envía señal de alarma (Radio).</td>
                            <td>1. Recibe la señal de alarma. 2. Genera una notificación de "Movimiento Detectado". 3. Registra la fecha y hora del evento.</td>
                        </tr>
                        <tr>
                            <td>**Desactivación**</td>
                            <td>Presión del Botón B</td>
                            <td>Detiene el sonido y reinicia el estado de alerta.</td>
                            <td>No aplica (el estado se registra automáticamente al detener la alarma).</td>
                        </tr>
                        <tr>
                            <td>**Monitoreo**</td>
                            <td>Inactividad prolongada (Intervalo de tiempo definido)</td>
                            <td>Envía una señal de "Activo/Inactividad" (Radio) de forma periódica.</td>
                            <td>Recibe la señal. 1. Genera una notificación de "Alarma activa y funcional". 2. Permite verificar el estado de la batería.</td>
                        </tr>
                    </tbody>
                </table>
            </li>
        </ul>
        
        <h2>3. Materiales y Hardware</h2>
        <ul>
            <li>2 x **Micro:bit V2** (Dispositivo principal de procesamiento y detección).</li>
            <li>**Acelerómetro** integrado en el Micro:bit Alarma (Sensor de movimiento).</li>
            <li>**Matriz LED 5x5** y **Zumbador/Altavoz** integrados en el Micro:bit Alarma (Salida visual y sonora).</li>
            <li>**Botón B** en el Micro:bit Alarma (Entrada para desactivación).</li>
            <li>**Conexión USB** para cargar código y para la conexión serial del Micro:bit Receptor a la PC.</li>
        </ul>
        
        <h2>4. Arquitectura del Sistema</h2>
        <ul>
            <li>El proyecto sigue una arquitectura de sistema distribuido simple, repartiendo la lógica entre el dispositivo móvil (Micro:bit Alarma) y la estación de monitoreo (Micro:bit Receptor + PC).</li>
            <li>**Flujo de Datos para Alerta:**
                <ol>
                    <li>**Micro:bit Alarma:** El acelerómetro detecta un movimiento superior a un `umbral_movimiento`.</li>
                    <li>**Comunicación Radio:** Envío de mensaje codificado (ej. "ALERTA").</li>
                    <li>**Micro:bit Receptor:** Recepción del mensaje de radio e impresión al puerto serial (USB).</li>
                    <li>**PC/Procesador Python:** Script en la PC lee el puerto serial, registra el mensaje, asocia la hora del sistema y almacena el evento.</li>
                    <li>**Interfaz Web (HTML/CSS):** Visualización en tiempo real de los eventos registrados.</li>
                </ol>
            </li>
            
        </ul>
        
        <h2>5. Diseño Electrónico</h2>
        <ul>
            <li>El diseño electrónico se basa principalmente en los componentes integrados de la placa **Micro:bit V2** (Acelerómetro, Radio, Matriz LED, Altavoz).</li>
            <li>No se requieren componentes externos ni diagramas de cableado complejos, ya que la alarma solo utiliza los recursos a bordo de los Micro:bits.</li>
            <li>[Incluir diagramas de Tinkercad (o similar) que muestren la simulación del sistema o un diagrama de bloques del flujo de datos].</li>
        </ul>
        
        <h2>6. Diseño Software (MicroPython)</h2>
        <ul>
            <li>**Plataforma:** BBC Micro:bit.</li>
            <li>**Lenguaje:** MicroPython.</li>
            <li>**Lógica del Micro:bit Alarma (Emisor):**
                <p>El script utiliza un bucle continuo que calcula la `fuerza_movimiento` (ej. $\sum |\text{ejes X, Y}|$) y la compara con un `umbral_movimiento` (ej. 1500). Si se supera, activa el sonido, la matriz LED (`Image.ANGRY`) y envía un mensaje de radio.</p>
                <p>La desactivación se maneja mediante la pulsación del **Botón B**, deteniendo la música (`music.stop()`) y el estado visual.</p>
            </li>
            <li>**Lógica del Micro:bit Receptor (Aviso):**
                <p>El script utiliza el módulo `radio` para escuchar mensajes. Al recibir un mensaje, lo imprime al puerto serial para que el script de Python en la PC lo pueda capturar.</p>
            </li>
            <li>**Script de Python (en PC):**
                <p>Debe usar una librería para la comunicación serial (ej. `pyserial`) para leer los datos del Receptor. El script registra la fecha/hora del sistema y almacena el evento para la visualización web.</p>
            </li>
            <li>[Incluir código fuente de python (u otro lenguaje) para el emisor, receptor y el script de PC]</li>
            <pre>
# Ejemplo simplificado del Micro:bit Alarma (Emisor)
from microbit import *
import radio
import music

radio.on()
umbral_movimiento = 1500

while True:
    fuerza_movimiento = abs(accelerometer.get_x()) + abs(accelerometer.get_y())
    
    if button_b.was_pressed():
        music.stop()
        display.show(Image.HAPPY)
        radio.send("DESACTIVA")
        sleep(500)
    
    if fuerza_movimiento > umbral_movimiento:
        display.show(Image.ANGRY)
        music.play(music.BA_DING)
        radio.send("ALERTA")
    else:
        # Lógica de pulso de inactividad
        display.show(Image.HEART_SMALL)
        # radio.send("ACTIVO") # Enviar pulso menos frecuente
        sleep(500)
</pre>
        </ul>
        
        <h2>7. Referencias y recursos</h2>
        <p>BBC Micro:bit Documentation, MicroPython Official Documentation, Librería PySerial, Lenguaje MicroPython.</p>
    </div>
</body>

</html>
